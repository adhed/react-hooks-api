(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n(20)},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(5),c=n.n(r),s=n(1),m=function(e){return fetch(e).then(function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})},u=n(2),l=n.n(u),i=n(3),p="https://public-api.wordpress.com/rest/v1.1",f={getPosts:function(){var e=Object(i.a)(l.a.mark(function e(t){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("".concat(p,"/sites/").concat("en.blog.wordpress.com","/posts/?number=").concat(t));case 2:return n=e.sent,e.abrupt("return",n.posts);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getPostComments:function(){var e=Object(i.a)(l.a.mark(function e(t){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("".concat(p,"/sites/").concat("en.blog.wordpress.com","/posts/").concat(t,"/replies/"));case 2:return n=e.sent,e.abrupt("return",n.comments);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},d=function(e){return e?new Date(e).toLocaleDateString("en-US"):"Wrong date"},b=(n(13),function(e){return o.a.createElement("div",{className:"comment"},o.a.createElement("span",{className:"comment__date"},"(",d(e.data.date),")"),o.a.createElement("span",{className:"comment__author"}," ",e.data.author.name," said: "),o.a.createElement("span",{className:"comment__content"},e.data.raw_content))}),h=function(){return o.a.createElement("div",{className:"loading"},o.a.createElement("span",{className:"loading__label"},"Loading data..."))},E=(n(14),function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),r=n[0],c=n[1],m=Object(a.useState)(!1),u=Object(s.a)(m,2),l=u[0],i=u[1];return Object(a.useEffect)(function(){i(!0),e.loadComments?f.getPostComments(e.data.ID).then(function(e){c(e),i(!1)}):(c([]),i(!1))},[e.loadComments]),o.a.createElement("div",{className:"post"},o.a.createElement("h2",{className:"post__headline"},e.data.title),o.a.createElement("span",{className:"post__description"},o.a.createElement("span",{className:"post__author"},e.data.author.name),o.a.createElement("span",{className:"post__date"}," on ",d(e.data.date))),o.a.createElement("div",{className:"post__excerpt",dangerouslySetInnerHTML:{__html:e.data.excerpt}}),o.a.createElement("a",{className:"post__more-link",href:e.data.URL,target:"_blank"},"read more"),l?o.a.createElement(h,null):o.a.createElement("div",{className:"comments"},r.length?o.a.createElement("span",{className:"comments__headline"},"Comments to this post:"):null,r.map(function(e){return o.a.createElement(b,{data:e,key:e.ID})})))});n(15);var _=function(e){return o.a.createElement("span",{className:"error-msg"},e.msg)},v=function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),r=n[0],c=n[1],m=Object(a.useState)(!1),u=Object(s.a)(m,2),l=u[0],i=u[1],p=Object(a.useState)(""),d=Object(s.a)(p,2),b=d[0],v=d[1],w=function(e,t){var n=Object(a.useState)(e),o=Object(s.a)(n,2),r=o[0],c=o[1];return Object(a.useEffect)(function(){var n=setTimeout(function(){c(e)},t);return function(){return clearTimeout(n)}},[e]),r}(e.postsToShow,500);return Object(a.useEffect)(function(){i(!0),v("")},[e.postsToShow]),Object(a.useEffect)(function(){w?(i(!0),f.getPosts(e.postsToShow).then(function(e){c(e),i(!1)}).catch(function(){v("There's an error with the request. Type another number."),i(!1)})):0===w&&(i(!1),v("Posts limit should be greater than 0."))},[w]),l?o.a.createElement(h,null):b?o.a.createElement(_,{msg:b}):o.a.createElement("div",null,o.a.createElement("div",{className:"list"},r.map(function(t){return o.a.createElement(E,{key:t.ID,data:t,loadComments:e.areCommentsEnabled})})))},w=(n(16),function(e){return o.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault()}},o.a.createElement("label",{className:"form__label",htmlFor:"counter"},"Limit of posts: "),o.a.createElement("input",{autoFocus:!0,type:"number",min:1,max:100,value:e.postsNumber,name:"counter",placeholder:"Limit of posts",onChange:function(t){e.onInputChange(parseInt(t.target.value))},className:"form__input"}),o.a.createElement("button",{className:"form__comments-button",onClick:function(){e.onLoadCommentsClick()}},e.areCommentsEnabled?"Hide comments":"Load comments"))}),g=(n(17),function(){var e=Object(a.useState)(3),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),m=Object(s.a)(c,2),u=m[0],l=m[1];return o.a.createElement("div",{className:"container"},o.a.createElement(w,{areCommentsEnabled:u,postsNumber:n,onInputChange:function(e){r(e),l(!1)},onLoadCommentsClick:function(){l(!u)}}),o.a.createElement(v,{postsToShow:n,areCommentsEnabled:u}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(18),n(19);c.a.render(o.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[6,1,2]]]);
//# sourceMappingURL=main.bb22a6a6.chunk.js.map